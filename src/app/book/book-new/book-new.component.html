<h3>Create a Book</h3>
{{ myForm.valid }}
<form [formGroup]="bookForm" (ngSubmit)="saveBook()">
  <fieldset *ngFor="let field of formKeys">
    <legend>{{ field }}</legend>

    <input
      [id]="field"
      [formControlName]="field"
      [type]="field === 'numPages' ? 'number' : 'text'"
    /><span
      *ngIf="bookForm.get(field)?.errors?.['isbnistfalsch']"
      [title]="bookForm.get(field)?.errors?.['isbnistfalsch']"
      >👹</span
    >
  </fieldset>
  <ng-container formArrayName="author">
    <fieldset>
      <legend>Author</legend>
      <ng-container *ngFor="let author of authors.controls; let i = index">
        <input type="text" [formControlName]="i" />
        <span (click)="deleteAutor(i)">❌</span>
      </ng-container>
      <br />
      <span (click)="addAutor()">➕</span>
    </fieldset>
  </ng-container>
  <button type="submit" [disabled]="!bookForm.valid">Save</button>
</form>
{{ bookForm.value | json }}
